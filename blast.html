<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
	<style>
    	*{padding:0;margin:0;}
		#box{width:680px;height:344px;background:url(images/1.jpg) no-repeat;margin:100px auto;-webkit-transform-style:preserve-3d;-webkit-transform:perpective(800px);}
		span{background:url(images/2.jpg) no-repeat;position:absolute;}
		
    </style>
    <script>
    	window.onload=function(){
			var oBtn=document.getElementById('btn');
			var oBox=document.getElementById('box');
			var Row=4;
			var Col=8;
			for(var i=0;i<Row;i++){
				for(var j=0;j<Col;j++){
					var oSpan=document.createElement('span');
					oSpan.style.width=oBox.offsetWidth/Col+'px';
					oSpan.style.height=oBox.offsetHeight/Row+'px';
					oBox.appendChild(oSpan);
					oSpan.style.left = j*oSpan.offsetWidth+'px';
					oSpan.style.top = i*oSpan.offsetHeight+'px';
					oSpan.style.background='url(images/2.jpg) '+-j*oSpan.offsetWidth+'px '+-i*oSpan.offsetHeight+'px';	
				}	
			}
			var aS=oBox.children;
			oBtn.onclick=function(){
				for(var i=0;i<aS.length;i++){
					var x=aS[i].offsetLeft+aS[i].offsetWidth/2;
					var y=aS[i].offsetTop+aS[i].offsetHeight/2;
					var divX=oBox.offsetWidth/2;
					var divY=oBox.offsetHeight/2;
					var disX = x-divX+Math.random()*60-30;
					var disY = y-divY+Math.random()*60-30;
					aS[i].style.WebkitTransition='0.6s all ease';
					aS[i].style.WebkitTransform='perspective(800px) translate('+disX+'px,'+disY+'px) rotateY('+(Math.random()*360-180)+'deg) rotateX('+(Math.random()*360-180)+'deg)';
					aS[i].style.opacity=0;
				}
			};
		};
    </script>
</head>

<body>
	<input type="button" value="爆炸" id="btn" />
	<div id="box"></div>
</body>
</html>
